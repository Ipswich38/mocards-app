const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StreamlinedCardLookupView-FXd1umtX.js","assets/charts-sad3owxz.js","assets/vendor-N--QU9DW.js","assets/supabase-BYaNx0mI.js","assets/database-BUiByx9r.js","assets/icons-BldG30mL.js","assets/StreamlinedClinicPortalView-B4oUN5Jm.js","assets/data-_aU9vntM.js","assets/StreamlinedAdminPortalView-C33okUdZ.js"])))=>i.map(i=>d[i]);
import{r as L,a as O,g as T}from"./vendor-N--QU9DW.js";import{r as m,R as P}from"./charts-sad3owxz.js";import{S as A,a as D,b as M,X as V,I as w,L as z,A as J,c as $,C as q}from"./icons-BldG30mL.js";import{c as B}from"./database-BUiByx9r.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var y={exports:{}},p={};var N;function F(){if(N)return p;N=1;var t=L(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(u,n,l){var d,x={},h=null,f=null;l!==void 0&&(h=""+l),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(f=n.ref);for(d in n)o.call(n,d)&&!c.hasOwnProperty(d)&&(x[d]=n[d]);if(u&&u.defaultProps)for(d in n=u.defaultProps,n)x[d]===void 0&&(x[d]=n[d]);return{$$typeof:r,type:u,key:h,ref:f,props:x,_owner:a.current}}return p.Fragment=s,p.jsx=i,p.jsxs=i,p}var C;function U(){return C||(C=1,y.exports=F()),y.exports}var e=U(),g={},S;function W(){if(S)return g;S=1;var t=O();return g.createRoot=t.createRoot,g.hydrateRoot=t.hydrateRoot,g}var X=W();const Z=T(X),G="modulepreload",K=function(t){return"/"+t},E={},j=function(r,s,o){let a=Promise.resolve();if(s&&s.length>0){let n=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");a=n(s.map(l=>{if(l=K(l),l in E)return;E[l]=!0;const d=l.endsWith(".css"),x=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${x}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":G,d||(h.as="script"),h.crossOrigin="",h.href=l,u&&h.setAttribute("nonce",u),document.head.appendChild(h),d)return new Promise((f,I)=>{h.addEventListener("load",f),h.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${l}`)))})}))}function c(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return a.then(i=>{for(const u of i||[])u.status==="rejected"&&c(u.reason);return r().catch(c)})},b=t=>{const[r,s]=m.useState(!1);return m.useEffect(()=>{const o=window.matchMedia(t);s(o.matches);const a=c=>{s(c.matches)};return o.addEventListener?o.addEventListener("change",a):o.addListener(a),()=>{o.removeEventListener?o.removeEventListener("change",a):o.removeListener(a)}},[t]),r},Q=()=>{const t=b("(max-width: 640px)"),r=b("(max-width: 1024px)"),s=b("(min-width: 1024px)"),o=b("(min-width: 1280px)");return{isMobile:t,isTablet:r,isDesktop:s,isLargeDesktop:o,isMobileOrTablet:t||r,isDesktopOrLarger:s}};function Y({currentView:t,onViewChange:r,children:s,isAuthenticated:o,userType:a}){const{isMobile:c}=Q(),i=n=>!o||!a?!1:a==="admin"&&n==="clinic-portal"||a==="clinic"&&n==="admin-access",u=[{id:"enhanced-lookup",label:"Card Lookup",icon:A,description:"View card details and search",disabled:!1},{id:"clinic-portal",label:"Clinic Portal",icon:D,description:"Manage appointments",disabled:i("clinic-portal")},{id:"admin-access",label:"Admin Portal",icon:M,description:"Generate cards & manage clinics",disabled:i("admin-access")}];return c?e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-16",children:[e.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:e.jsx("div",{className:"flex items-center justify-center px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#1A535C] rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"MC"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"MOCARDS"})})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200 fixed top-14 left-0 right-0 z-40",children:e.jsx("div",{className:"flex space-x-1 p-2",children:u.map(n=>{const l=n.icon;return e.jsxs("button",{onClick:()=>!n.disabled&&r(n.id),disabled:n.disabled,className:`flex-1 flex flex-col items-center space-y-1 p-2 rounded-lg transition-colors ${t===n.id?"bg-blue-100 text-blue-700":n.disabled?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:n.label})]},n.id)})})}),e.jsx("div",{className:"pt-28 px-4 pb-4",children:e.jsx("div",{className:"max-w-full mx-auto",children:s})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-[#1A535C] rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"MC"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MOCARDS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Dental Benefits Platform"})]})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:u.map(n=>{const l=n.icon;return e.jsxs("button",{onClick:()=>!n.disabled&&r(n.id),disabled:n.disabled,className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-colors ${t===n.id?"bg-blue-100 text-blue-700":n.disabled?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{children:n.label})]},n.id)})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s})]})}const H=()=>`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,v=(t,r,s,o)=>({type:t,title:r,message:s,duration:o?.duration??(t==="loading"?void 0:5e3),action:o?.action,persistent:o?.persistent??t==="loading"}),pe=(t,r,s)=>v("success",t,r,{action:s}),fe=(t,r,s)=>v("error",t,r,{action:s,duration:7e3}),ge=(t,r,s)=>v("warning",t,r,{action:s}),k=m.createContext(void 0),_=()=>{const t=m.useContext(k);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},ee=({children:t})=>{const[r,s]=m.useState([]),o=m.useCallback(n=>{const l=H(),d={...n,id:l};return s(x=>[...x,d]),!n.persistent&&n.duration&&setTimeout(()=>{a(l)},n.duration),l},[]),a=m.useCallback(n=>{s(l=>l.filter(d=>d.id!==n))},[]),c=m.useCallback((n,l)=>{s(d=>d.map(x=>x.id===n?{...x,...l}:x))},[]),i=m.useCallback(()=>{s([])},[]),u={toasts:r,addToast:o,removeToast:a,updateToast:c,clearAllToasts:i};return e.jsx(k.Provider,{value:u,children:t})},te=({type:t})=>{const r={size:20};switch(t){case"success":return e.jsx(q,{...r,className:"text-green-500"});case"error":return e.jsx($,{...r,className:"text-red-500"});case"warning":return e.jsx(J,{...r,className:"text-yellow-500"});case"info":return e.jsx(w,{...r,className:"text-blue-500"});case"loading":return e.jsx(z,{...r,className:"text-blue-500 animate-spin"});default:return e.jsx(w,{...r,className:"text-gray-500"})}},re=({toast:t})=>{const{removeToast:r}=_(),s={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200",loading:"bg-blue-50 border-blue-200"},o={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800",loading:"text-blue-800"};return e.jsx("div",{className:`
        max-w-sm w-full ${s[t.type]} border rounded-lg shadow-lg p-4
        transform transition-all duration-300 ease-in-out
        hover:shadow-xl animate-in slide-in-from-right-full
      `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{type:t.type}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-medium ${o[t.type]} text-sm`,children:t.title}),t.message&&e.jsx("p",{className:`mt-1 text-sm ${o[t.type]} opacity-90`,children:t.message}),t.action&&e.jsx("button",{onClick:t.action.onClick,className:`
                mt-2 text-sm font-medium ${o[t.type]}
                hover:underline focus:outline-none focus:underline
              `,children:t.action.label})]}),e.jsx("button",{onClick:()=>r(t.id),className:`
            ${o[t.type]} opacity-60 hover:opacity-100
            transition-opacity focus:outline-none
          `,children:e.jsx(V,{size:16})})]})})},se=()=>{const{toasts:t}=_();return t.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-h-screen overflow-y-auto",children:t.map(r=>e.jsx(re,{toast:r},r.id))})},ne="https://lxyexybnotixgpzflota.supabase.co",ae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx4eWV4eWJub3RpeGdwemZsb3RhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMDcwODIsImV4cCI6MjA3NTc4MzA4Mn0.TSbnvPKWiDdEFbyOh38qj_L87LZ75p3FiOW05hzEBlM";B(ne,ae,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Application-Name":"MOCARDS-Enterprise"}}});m.createContext(null);function oe(){const[t,r]=m.useState(!1),[s,o]=m.useState(null);return{isAuthenticated:t,user:s,login:(i,u)=>{r(!0),o({type:i,...u})},logout:()=>{r(!1),o(null)}}}class ie extends m.Component{state={hasError:!1};static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("ErrorBoundary caught an error:",r,s),this.setState({error:r,errorInfo:s});const o={message:r.message,stack:r.stack,componentStack:s.componentStack,timestamp:new Date().toISOString()};console.error("ðŸš¨ CRITICAL ERROR DETAILS:",o);try{const a=JSON.parse(localStorage.getItem("mocards_errors")||"[]");a.push(o),localStorage.setItem("mocards_errors",JSON.stringify(a.slice(-10)))}catch(a){console.error("Failed to store error in localStorage:",a)}}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an unexpected error. Please try refreshing the page."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Refresh Page"}),e.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors",children:"Try Again"})]}),!1]})})}):this.props.children}}const R=m.lazy(()=>j(()=>import("./StreamlinedCardLookupView-FXd1umtX.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.StreamlinedCardLookupView}))),ce=m.lazy(()=>j(()=>import("./StreamlinedClinicPortalView-B4oUN5Jm.js"),__vite__mapDeps([6,1,2,7,3,4,5])).then(t=>({default:t.StreamlinedClinicPortalView}))),le=m.lazy(()=>j(()=>import("./StreamlinedAdminPortalView-C33okUdZ.js"),__vite__mapDeps([8,1,2,7,3,4,5])).then(t=>({default:t.StreamlinedAdminPortalView})));function de(){const[t,r]=m.useState("enhanced-lookup"),{isAuthenticated:s,user:o}=oe();m.useEffect(()=>{console.log("ðŸš€ MOCARDS - Simple & Clean",{timestamp:new Date().toISOString(),version:"2.0.0"})},[]),m.useEffect(()=>{!s&&(t==="admin-access"||t==="clinic-portal")&&r("enhanced-lookup")},[s]),m.useEffect(()=>{console.log(`ðŸ“ View changed to: ${t}`)},[t]);const a=()=>{switch(t){case"enhanced-lookup":return e.jsx(R,{});case"clinic-portal":return e.jsx(ce,{});case"admin-access":return e.jsx(le,{});default:return e.jsx(R,{})}},c=i=>{if(i==="enhanced-lookup"){r(i);return}s&&o&&(o.type==="admin"&&i==="clinic-portal"||o.type==="clinic"&&i==="admin-access")||r(i)};return e.jsx(ie,{children:e.jsxs(ee,{children:[e.jsx(Y,{currentView:t,onViewChange:c,isAuthenticated:s,userType:o?.type,children:e.jsx(m.Suspense,{fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"light-card p-8 w-full max-w-md text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we load the application."})]})}),children:a()})}),e.jsx(se,{})]})})}Z.createRoot(document.getElementById("root")).render(e.jsx(P.StrictMode,{children:e.jsx(de,{})}));export{pe as a,fe as b,oe as c,e as j,ge as t,_ as u};
